{"version":3,"sources":["firebase/firebase-config.js","types/types.js","helpers/loadNotes.js","actions/notes.js","actions/ui.js","actions/auth.js","routers/PrivateRoutes.js","routers/PublicRoutes.js","hooks/useForm.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","components/journal/JournalEntry.js","components/journal/JournalEntries.js","components/journal/Sidebar.js","components/notes/NotesAppBar.js","components/notes/NoteScreen.js","components/journal/NothingSelected.js","components/journal/JournalScreen.js","routers/AppRouter.js","reducers/notesReducer.js","reducers/uiReducer.js","store/store.js","reducers/authReducer.js","JournalApp.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","googleAuthProvider","GoogleAuthProvider","auth","getAuth","types","loadNotes","uid","a","getDocs","collection","notesSnap","notes","forEach","snapHijo","push","id","data","activeNote","note","type","payload","addNewNote","startLoadingNotes","dispatch","setNotes","refreshNote","deleteNote","setError","msgError","startLoginEmailPassword","email","password","signInWithEmailAndPassword","then","user","login","displayName","catch","e","console","log","Swal","fire","message","finally","logout","PrivateRoutes","isAuthenticated","Component","component","rest","localStorage","setItem","location","pathname","props","to","propTpes","PropTypes","bool","isRequired","func","PublicRoutes","useForm","initialState","useState","values","setValues","handleInputChange","target","name","value","reset","newState","LoginScreen","useDispatch","loading","useSelector","state","ui","fromValues","className","onSubmit","preventDefault","placeholder","autoComplete","onChange","disabled","onClick","signInWithPopup","src","alt","RegisterScreen","password2","formValues","isFormValid","trim","length","validator","isEmail","createUserWithEmailAndPassword","updateProfile","startRegisterWithEmailPasswordName","AuthRouter","exact","path","JournalEntry","date","title","body","url","noteDate","moment","style","backgroundSize","backgroundImage","substring","format","JournalEntries","map","Sidebar","signOut","getState","newNote","Date","getTime","addDoc","doc","NotesAppBar","active","noteToFirestore","updateDoc","startSaveNote","NoteScreen","activeId","useRef","useEffect","current","deleteDoc","startDeleting","NothingSelected","JournalScreen","AppRouter","checking","setChecking","isLoggedIn","setIsLoggedIn","onAuthStateChanged","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","action","filter","store","createStore","applyMiddleware","thunk","JournalApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eea4c837.chunk.js","sourcesContent":["import { initializeApp } from 'firebase/app'\r\nimport { \r\n    getAuth, \r\n    signInWithPopup, \r\n    createUserWithEmailAndPassword,\r\n    signInWithEmailAndPassword, \r\n    signOut,\r\n    updateProfile, \r\n    GoogleAuthProvider,\r\n    onAuthStateChanged } from \"firebase/auth\";\r\nimport { \r\n    getFirestore, \r\n    collection, \r\n    doc, \r\n    addDoc, \r\n    getDocs, \r\n    updateDoc, \r\n    deleteDoc } from 'firebase/firestore'; // /lite\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_ID\r\n};\r\n  \r\n// Initialize Firebase\r\nconst firebase = initializeApp(firebaseConfig);\r\n\r\nconst db = getFirestore(firebase);\r\nconst googleAuthProvider = new GoogleAuthProvider();\r\nconst auth = getAuth();\r\n\r\nexport {\r\n    db,\r\n    collection, \r\n    addDoc,\r\n    getDocs,\r\n    updateDoc, \r\n    deleteDoc,\r\n    doc,\r\n    googleAuthProvider,\r\n    auth,\r\n    signInWithPopup,\r\n    createUserWithEmailAndPassword,\r\n    signInWithEmailAndPassword,\r\n    signOut,\r\n    updateProfile,\r\n    onAuthStateChanged,\r\n    firebase\r\n}","\r\n\r\nexport const types = {\r\n    login: '[AUTH] Login',\r\n    logout: '[AUTH] Logout',\r\n\r\n    uiSetError: '[UI] Set Error',\r\n    uiRemoveError: '[UI] Remove Error',\r\n    uiStartLoading: '[UI] Start Loading',\r\n    uiFinishLoading: '[UI] Finish Loading',\r\n\r\n    notesAddNew: '[NOTES] New Note',\r\n    notesActive: '[NOTES] Active Note',\r\n    notesLoad: '[NOTES] Load Notes',\r\n    notesUpdate: '[NOTES] Update Note',\r\n    notesFileUrl: '[NOTES] Update image Note',\r\n    notesDelete: '[NOTES] Delete Note',\r\n    notesLogoutCleaning: '[NOTES] Logout Cleaning',\r\n}","import { db, collection, getDocs } from \"../firebase/firebase-config\"\r\n\r\n\r\nexport const loadNotes = async ( uid ) => {\r\n\r\n    // const notesSnap = await db.collection( `${ uid }/journal/notes`).get()\r\n    const notesSnap = await getDocs( collection( db, `${ uid }/journal/notes` ) )\r\n    const notes = []\r\n\r\n    notesSnap.forEach( snapHijo => {\r\n        notes.push({\r\n            id: snapHijo.id,\r\n            ...snapHijo.data()\r\n        })\r\n    })\r\n\r\n\r\n    return notes\r\n}","import Swal from \"sweetalert2\"\r\nimport { addDoc, collection, db, doc, updateDoc, deleteDoc } from \"../firebase/firebase-config\"\r\nimport { loadNotes } from \"../helpers/loadNotes\"\r\nimport { types } from '../types/types'\r\n\r\nexport const startNewNote = () => {\r\n    return async( dispatch, getState ) => {\r\n\r\n        const { uid } = getState().auth\r\n\r\n        const newNote = {\r\n            title: '',\r\n            body: '',\r\n            date: new Date().getTime()\r\n        }\r\n\r\n        // const doc = db.collection(`${ uid }/journal/notes`).add( newNote )\r\n\r\n        // la promesa retorna una referencia al documento\r\n        const doc = await addDoc( collection( db, `${ uid }`, '/journal/notes'), newNote)\r\n\r\n        dispatch( activeNote( doc.id, newNote ) )\r\n        dispatch( addNewNote( doc.id, newNote ) )\r\n    }\r\n}\r\n\r\nexport const activeNote = ( id, note ) => ({\r\n    type: types.notesActive,\r\n    payload:{ id, ...note }\r\n})\r\n\r\nexport const addNewNote = ( id, note ) => ({\r\n    type: types.notesAddNew,\r\n    payload:{\r\n        id,\r\n        ...note\r\n    }\r\n})\r\n\r\nexport const startLoadingNotes = ( uid ) => {\r\n    return async ( dispatch ) => {\r\n\r\n        const notes = await loadNotes( uid )\r\n        dispatch( setNotes( notes ) )\r\n    }\r\n}\r\n\r\nexport const setNotes = ( notes ) => ({\r\n    type: types.notesLoad,\r\n    payload: notes\r\n})\r\n\r\n\r\nexport const startSaveNote = ( note ) => {\r\n    return async ( dispatch, getState ) => {\r\n\r\n        const { uid } = getState().auth\r\n\r\n        if( !note.url ){\r\n            delete note.url\r\n        }\r\n\r\n        const noteToFirestore = { ...note }\r\n        delete noteToFirestore.id\r\n\r\n\r\n        await updateDoc( doc( db, `${ uid }/journal/notes/${ note.id }`), noteToFirestore )\r\n\r\n        dispatch( refreshNote( note.id, noteToFirestore ) )\r\n        Swal.fire('Saved', note.title, 'success')\r\n    }\r\n}\r\n\r\nexport const refreshNote = ( id, note ) => ({\r\n    type: types.notesUpdate,\r\n    payload: { \r\n        id, \r\n        note: {\r\n            id,\r\n            ...note\r\n        }\r\n    }\r\n})\r\n\r\nexport const startDeleting = ( id ) => {\r\n    return async ( dispatch, getState ) => {\r\n\r\n        const uid = getState().auth.uid\r\n\r\n        // await db.doc(`${ uid }/journal/notes/${ id }`).delete()\r\n        await deleteDoc( doc( db, `${ uid }/journal/notes/${ id }`) )\r\n\r\n        dispatch( deleteNote(id) )\r\n    }\r\n}\r\n\r\nexport const deleteNote = ( id ) => ({\r\n    type: types.notesDelete,\r\n    payload: id\r\n})\r\n\r\nexport const notesCleaning = () => ({\r\n    type: types.notesLogoutCleaning\r\n})","import { types } from \"../types/types\";\r\n\r\nexport const setError = ( msgError ) => ({\r\n    type: types.uiSetError,\r\n    payload: msgError\r\n})\r\n\r\n\r\nexport const removeError = () => ({\r\n    type: types.uiRemoveError\r\n})\r\n\r\nexport const startLoading = () => ({\r\n    type: types.uiStartLoading\r\n})\r\n\r\nexport const finishLoading = () => ({\r\n    type: types.uiFinishLoading\r\n})","import Swal from \"sweetalert2\"\r\nimport { \r\n    signInWithPopup, \r\n    auth, \r\n    googleAuthProvider, \r\n    createUserWithEmailAndPassword, \r\n    signInWithEmailAndPassword, \r\n    signOut,\r\n    updateProfile, \r\n} from \"../firebase/firebase-config\"\r\nimport { types } from \"../types/types\"\r\nimport { notesCleaning } from \"./notes\"\r\nimport { finishLoading, startLoading } from \"./ui\"\r\n\r\nexport const startLoginEmailPassword = ( email, password ) => {\r\n    return ( dispatch ) => {\r\n        dispatch( startLoading() )\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then( ({ user }) => {               \r\n                    \r\n                dispatch( login( user.uid, user.displayName) )\r\n                // dispatch( finishLoading() )\r\n            }) \r\n            .catch( e => {\r\n                console.log(e)\r\n                // dispatch( finishLoading() )\r\n                Swal.fire('Error', e.message, 'error')\r\n            })\r\n            .finally( () => {\r\n                dispatch( finishLoading() )\r\n            })\r\n\r\n    }\r\n}\r\n\r\nexport const startGoogleLogin = () => {\r\n    return( dispatch ) => {\r\n\r\n        signInWithPopup(auth, googleAuthProvider)\r\n            .then( ({ user }) => {\r\n                dispatch( login( user.uid, user.displayName))\r\n            }) \r\n    }\r\n}\r\n\r\n\r\nexport const startRegisterWithEmailPasswordName = ( email, password, name ) => {\r\n    return ( dispatch ) => {\r\n\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n            .then( async({ user }) => {\r\n\r\n                /**\r\n                 * cuando creamos un usuario de esta manera, no tenemos el displayName,\r\n                 * ya que este atributo se completa cuando hacemos login con redes sociales.\r\n                 * Por eso usamos updateProfile(), para cargar el displayName en firebase con el name que solicitamos en nuestro registo,\r\n                 * tambien podriamos cargar un fato de perfil pasando un link de la misma\r\n                 * \r\n                 */\r\n                await updateProfile( user, { displayName: name } )\r\n                    \r\n                dispatch( login( user.uid, user.displayName) )\r\n\r\n            }) \r\n            .catch( e => {\r\n                console.log(e)\r\n                Swal.fire('Error', e.message, 'error')\r\n            })\r\n    }\r\n}\r\n\r\nexport const login = ( uid, displayName ) => ({\r\n        type: types.login,\r\n        payload: { uid, displayName }\r\n    })\r\n\r\nexport const startLogout = () => {\r\n    return async( dispatch ) => {\r\n        await signOut( auth )\r\n\r\n        dispatch( logout() )\r\n        dispatch( notesCleaning() )\r\n    }\r\n}\r\n\r\nexport const logout = () => ({\r\n    type: types.logout\r\n})","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { Redirect, Route } from 'react-router'\r\n\r\nexport const PrivateRoutes = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n\r\n    localStorage.setItem('lastPath', rest.location.pathname )\r\n    \r\n    return (\r\n        <Route \r\n            { ...rest }\r\n            component={ (props) => { //NOTA 1             \r\n                return ( isAuthenticated )\r\n                    ? ( <Component { ...props } /> )\r\n                    : ( <Redirect to=\"/auth\" /> )\r\n            }}\r\n        \r\n        />            \r\n    )\r\n}\r\n\r\nPrivateRoutes.propTpes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}\r\n\r\n/**\r\n * NOTA 1: al igual que con useState, que podemos recuperar el state usando setState( state => state + 1 ),\r\n * en el componente, con un callback podemos obtener los props, en este caso los props del componente ROUTE { history, natch, Location }\r\n */\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { Redirect, Route } from 'react-router'\r\n\r\nexport const PublicRoutes = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n    return (\r\n        <Route\r\n            { ...rest } \r\n            component={ (props) => (\r\n                (isAuthenticated)\r\n                    ? ( <Redirect to=\"/\" /> )\r\n                    : ( <Component {...props} /> )\r\n            )}\r\n        \r\n        /> \r\n    )\r\n}\r\n\r\nPublicRoutes.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}\r\n","import { useState } from \"react\"\r\n\r\n\r\nexport const useForm = ( initialState = {} ) => {\r\n    \r\n    const [values, setValues] = useState(initialState);\r\n\r\n    const handleInputChange = ({ target }) => {\r\n\r\n        setValues({\r\n            ...values,\r\n            [ target.name ]: target.value\r\n        });\r\n\r\n    }\r\n\r\n    const reset = (newState = initialState) => {\r\n        setValues( newState )\r\n    }\r\n\r\n    return [ values, handleInputChange, reset ];\r\n\r\n}","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport { startGoogleLogin, startLoginEmailPassword } from '../../actions/auth';\nimport { useForm } from '../../hooks/useForm';\n\nexport const LoginScreen = () => {\n\n    const dispatch = useDispatch()\n    const { loading } = useSelector( state => state.ui )\n\n    const [ fromValues, handleInputChange] = useForm({\n        email:'',\n        password:''\n    })\n\n    const { email, password } = fromValues\n\n    const handleLogin = ( e ) => {\n        e.preventDefault() \n        dispatch( startLoginEmailPassword( email, password) )\n    }\n\n    const handleGoogleLogin = () => {\n        dispatch( startGoogleLogin() )\n    }\n\n    return (\n        <div>\n            <h3 className=\"auth__title\">Login</h3>\n\n            <form onSubmit={ handleLogin }> \n\n                <input \n                    type=\"text\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    className=\"auth__input\"\n                    autoComplete=\"off\"\n                    value={ email }\n                    onChange={ handleInputChange }\n                />\n\n                <input \n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    className=\"auth__input\"\n                    value={ password }\n                    onChange={ handleInputChange }\n                />\n\n\n                <button\n                    type=\"submit\"\n                    className=\"btn btn-primary btn-block\"\n                    disabled={ loading }\n                >\n                    Login\n                </button>\n\n                \n                <div className=\"auth__social-networks\">\n                    <p>Login with social networks</p>\n\n                    <div \n                        className=\"google-btn\"\n                        onClick={ handleGoogleLogin }\n                    >\n                        <div className=\"google-icon-wrapper\">\n                            <img className=\"google-icon\" src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\" alt=\"google button\" />\n                        </div>\n                        <p className=\"btn-text\">\n                            <b>Sign in with google</b>\n                        </p>\n                    </div>\n                </div>\n\n                <Link \n                    to=\"/auth/register\"\n                    className=\"link\"\n                >\n                    Create new account    \n                </Link>\n\n            </form>\n        </div>\n    )\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport validator from 'validator'\nimport { startRegisterWithEmailPasswordName } from '../../actions/auth';\nimport { removeError, setError } from '../../actions/ui';\n\nimport { useForm } from '../../hooks/useForm';\n\nexport const RegisterScreen = () => {\n\n    const dispatch = useDispatch()\n    const { msgError } = useSelector(state => state.ui)\n\n    const [formValues, handleInputChange ] = useForm({\n        name:'',\n        email:'',\n        password:'',\n        password2:'',\n    })\n\n    const {name, email, password, password2 } = formValues\n\n    const handleRegister = (e) => {\n        e.preventDefault()\n\n        if( isFormValid() ){\n           dispatch( startRegisterWithEmailPasswordName( email, password, name))\n        }\n    }\n\n    const isFormValid = () => {\n\n        if( name.trim().length === 0 ){\n            dispatch( setError( 'Name is required' ))\n            return false\n        }else if( !validator.isEmail( email ) ){\n            dispatch( setError( 'Email is not valid' ))\n            return false\n        }else if( password !== password2 ||  password.length < 5 ){\n            dispatch( setError( 'Password should be at least 6 charaacters and match each other' ))\n            return false\n        }\n        dispatch( removeError() )\n        return true\n    }\n\n    return (\n        <div>\n            <h3 className=\"auth__title\">Register</h3>\n\n            <form onSubmit={ handleRegister }>\n\n                {\n                    msgError && (\n                        <div className=\"auth__alert-error\">\n                            { msgError }\n                        </div>\n                    )\n                }\n\n                <input \n                    type=\"text\"\n                    placeholder=\"Name\"\n                    name=\"name\"\n                    className=\"auth__input\"\n                    autoComplete=\"off\"\n                    value={ name }\n                    onChange={ handleInputChange }\n                />\n\n                <input \n                    type=\"text\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    className=\"auth__input\"\n                    autoComplete=\"off\"\n                    value={ email }\n                    onChange={ handleInputChange }\n                />\n\n                <input \n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    className=\"auth__input\"\n                    value={ password }\n                    onChange={ handleInputChange }\n                />\n\n                <input \n                    type=\"password\"\n                    placeholder=\"Confirm password\"\n                    name=\"password2\"\n                    className=\"auth__input\"\n                    value={ password2 }\n                    onChange={ handleInputChange }\n                />\n\n\n                <button\n                    type=\"submit\"\n                    className=\"btn btn-primary btn-block mb-5\"\n                >\n                    Register\n                </button>\n\n               \n\n                <Link \n                    to=\"/auth/login\"\n                    className=\"link\"\n                >\n                    Already registered?\n                </Link>\n\n            </form>\n        </div>\n    )\n}\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport { LoginScreen } from '../components/auth/LoginScreen';\nimport { RegisterScreen } from '../components/auth/RegisterScreen';\n\nexport const AuthRouter = () => {\n    return (\n        <div className=\"auth__main\">\n            <div className=\"auth__box-container\">\n                <Switch>\n                    <Route \n                        exact\n                        path=\"/auth/login\"\n                        component={ LoginScreen }\n                    />\n\n                    <Route \n                        exact\n                        path=\"/auth/register\"\n                        component={ RegisterScreen }\n                    />\n\n                    <Redirect to=\"/auth/login\" />\n\n\n                </Switch>\n            </div>\n\n        </div>\n    )\n}\n","import React from 'react'\nimport moment from 'moment'\nimport { useDispatch } from 'react-redux'\nimport { activeNote } from '../../actions/notes'\n\n// const urlDefautl = 'https://earthsky.org/upl/2018/12/comet-wirtanen-Jack-Fusco-dec-2018-Anza-Borrego-desert-CA-e1544613895713.jpg'\n\nexport const JournalEntry = ( { id, date, title, body, url } ) => {\n\n    const dispatch = useDispatch()\n    const noteDate = moment( date )\n\n    const handleEntryClick = () => {\n        dispatch( activeNote(  id, { date, title, body, url } ) )\n    }\n\n    console.log(  )\n\n    return (\n        <div \n            className=\"journal__entry pointer\"\n            onClick={ handleEntryClick }\n        >\n            \n            {\n                url && (\n\n                    <div \n                        className=\"journal__entry-picture\"\n                        style={{\n                            backgroundSize: 'cover',\n                            backgroundImage: `url(${ url })`\n                        }}\n                    ></div>\n                )\n            }\n\n            <div className=\"journal__entry-body\">\n                <p className=\"journal__entry-title\">\n                    { title }\n                </p>\n                <p className=\"journal__entry-content\">\n                    { ( body?.length > 145 ) ? body.substring(0,145) + '...' : body }\n                </p>\n            </div>\n\n            <div className=\"journal__entry-date-box\">\n                <span> { noteDate.format('dddd') } </span>\n                <h4> { noteDate.format('Do') }  </h4>\n            </div>\n\n        </div>\n    )\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux';\nimport { JournalEntry } from './JournalEntry';\n\nexport const JournalEntries = () => {    \n\n    const { notes } = useSelector( state => state.notes );\n\n    return (\n        <div className=\"journal__entries\">\n            \n            {\n                notes.map( note => (\n                    <JournalEntry \n                        key={ note.id } \n                        { ...note }\n                    />\n                ))\n            }\n\n        </div>\n    )\n}\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { startLogout } from '../../actions/auth'\nimport { startNewNote } from '../../actions/notes'\nimport { JournalEntries } from './JournalEntries'\n\nexport const Sidebar = () => {\n\n    const dispatch = useDispatch()\n    const { name } = useSelector(state => state.auth)\n\n    const handleLogout = () => {\n        dispatch( startLogout() )\n    }\n\n    const handleNew = () => {\n        dispatch( startNewNote() )\n    }\n\n    return (\n        <aside className=\"journal__sidebar\">\n            \n            <div className=\"journal__sidebar-navbar\">\n                <h3 className=\"mt-5\">\n                    <i className=\"far fa-moon\"></i>\n                    <span> { name } </span>\n                </h3>\n\n                <button \n                    className=\"btn\"\n                    onClick={ handleLogout }\n                >\n                    Logout\n                </button>\n            </div>\n\n            <div \n                className=\"journal__new-entry\"\n                onClick={ handleNew }\n            >\n                <i className=\"far fa-calendar-plus fa-5x\"></i>\n                <p className=\"mt-5\">\n                    New entry\n                </p>\n            </div>\n\n            <JournalEntries />    \n\n        </aside>\n    )\n}\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { startSaveNote } from '../../actions/notes'\n\nexport const NotesAppBar = () => {\n\n    const dispatch = useDispatch()\n    const { active:note} = useSelector( state => state.notes )\n\n    const handleSave = () => {\n        dispatch( startSaveNote( note ) )\n    }\n\n    return (\n        <div className=\"notes__appbar\">\n            <span>28 de agosto 2020</span>\n\n            <div>\n                <button className=\"btn\">\n                    Picture\n                </button>\n\n                <button \n                    className=\"btn\"\n                    onClick={ handleSave }\n                >\n                    Save\n                </button>\n            </div>\n        </div>\n    )\n}\n","import React, { useEffect, useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { activeNote, startDeleting } from '../../actions/notes'\nimport { useForm } from '../../hooks/useForm'\n\nimport { NotesAppBar } from './NotesAppBar'\n\nexport const NoteScreen = () => {\n\n    const dispatch = useDispatch()\n    const { active:note } = useSelector( state => state.notes )\n    const [ formValues, handleInputChange, reset ] = useForm( note )\n\n    /**\n     * cuando pasamos de una nota a otra, el useForm no cambia su estado,\n     * con useEffect, cambiamos el estado de useForm si el id de la nota activa es distinto de la nota\n     * que queremos mostrar, ya que si no ponemos esa condicion\n     * el efecto se dispararia constantemente y para ello no ayudamos con useRef que puede cambiar de valor \n     * sin redibujar el  componente \n     */\n\n    const activeId = useRef( note.id )\n\n    useEffect( () => {\n\n        if( note.id !== activeId.current ){\n                reset( note )\n                activeId.current = note.id \n        }\n\n    }, [note, reset] )\n\n\n    useEffect( () => {\n        \n        dispatch( activeNote( formValues.id, { ...formValues } ) )\n\n    }, [ formValues, dispatch ] )\n     \n\n    const { title, body, id } = formValues \n\n    const handleDelete = () => {\n\n        dispatch( startDeleting( id ) )\n    }\n\n    return (\n        <div className=\"notes__main-content\">\n            \n            <NotesAppBar />\n\n            <div className=\"notes__content\">\n\n                <input \n                    type=\"text\"\n                    placeholder=\"Some awesome title\"\n                    className=\"notes__title-input\"\n                    autoComplete=\"off\"\n                    name=\"title\"\n                    value={ title }\n                    onChange={ handleInputChange }\n                />\n\n                <textarea\n                    placeholder=\"What happened today\"\n                    className=\"notes__textarea\"\n                    name=\"body\"\n                    value={ body }\n                    onChange={ handleInputChange }\n                ></textarea>\n\n                <div className=\"notes__image\">\n                    <img \n                        src=\"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__340.jpg\"\n                        alt=\"imagen\"\n                    />\n                </div>\n\n\n            </div>\n\n            <button\n                className=\"btn btn-danger\"\n                onClick={ handleDelete }\n            >\n                Delete\n            </button>\n\n        </div>\n    )\n}\n","import React from 'react'\n\nexport const NothingSelected = () => {\n    return (\n        <div className=\"nothing__main-content\">\n            <p>\n                Select something\n                <br />\n                pr create an entry!\n            </p>\n\n            <i className=\"far fa-star fa-4x mt-5\"></i>\n\n        </div>\n    )\n}\n","import React from 'react';\nimport { Sidebar } from './Sidebar';\nimport { NoteScreen } from '../notes/NoteScreen';\nimport { useSelector } from 'react-redux';\nimport { NothingSelected } from './NothingSelected';\n\n\nexport const JournalScreen = () => {\n\n    const { active } = useSelector( state => state.notes )\n    return (\n        <div className=\"journal__main-content\">\n            \n            <Sidebar />\n\n            <main>\n\n                {\n                    active \n                        ? <NoteScreen />\n                        : <NothingSelected />\n                }\n                \n\n            </main>\n\n\n        </div>\n    )\n}\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Redirect\n  } from 'react-router-dom';\n\nimport { login } from '../actions/auth';\n\nimport { PrivateRoutes } from '../routers/PrivateRoutes'\nimport { PublicRoutes } from '../routers/PublicRoutes'\nimport { AuthRouter } from './AuthRouter';\nimport { JournalScreen } from '../components/journal/JournalScreen';\nimport { onAuthStateChanged, auth } from '../firebase/firebase-config';\nimport { startLoadingNotes } from '../actions/notes';\n\nexport const AppRouter = () => {\n\n    const dispatch = useDispatch()\n\n    const [checking, setChecking] = useState(true)\n    const [isLoggedIn, setIsLoggedIn] = useState(false)\n\n    useEffect( () => {\n        /**\n         *  onAuthStateChanged es un observador del estado de autenticacion del usuario.\n         * En caso de que la pagina se recargara, perderiamos los datos del state, pero \n         * onAuthStateChanged nos retorna el usuario en caso de estar autenticado o null en\n         * caso de no estarlo \n         */\n        onAuthStateChanged( auth, async( user ) => {  \n\n            if( user?.uid ){\n                dispatch( login( user.uid, user.displayName ) )\n                setIsLoggedIn( true )\n\n                //aca es el primer momento en que conocemos cual es el uid\n                //const notes = await loadNotes( user.uid )\n                //dispatch( setNotes( notes ) )\n                // es mas elegante manejar la carga del store mediante acciones\n                dispatch( startLoadingNotes( user.uid ) )\n            }else{\n                setIsLoggedIn( false )\n            }\n            \n            setChecking(false)\n        })\n\n    }, [ dispatch, setChecking ])\n\n\n    if( checking ){\n        return(\n            <h2>Cargando datos...</h2>\n        )\n    }\n\n    return (\n        <Router>\n            <div>\n                <Switch>\n\n                    <PublicRoutes \n                        isAuthenticated={ isLoggedIn }\n                        component={ AuthRouter }\n                        path=\"/auth\" \n                    />\n\n                    <PrivateRoutes  \n                        isAuthenticated={ isLoggedIn }\n                        component={ JournalScreen }\n                        path=\"/\" \n                        exact\n                    />\n\n                    <Redirect to=\"/auth/login\" />\n\n\n                </Switch>\n            </div>\n        </Router>\n    )\n}\n","import { types } from \"../types/types\";\r\n\r\n\r\nconst initialState = {\r\n    notes: [],\r\n    active: null\r\n}\r\n\r\nexport const notesReducer = ( state = initialState, action ) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case types.notesActive:\r\n            return{\r\n                ...state,\r\n                active: { ...action.payload }\r\n            }\r\n\r\n        case types.notesAddNew:\r\n            return {\r\n                ...state,\r\n                notes: [ action.payload, ...state.notes] \r\n            }\r\n\r\n        case types.notesLoad:\r\n            return{\r\n                ...state,\r\n                notes: [ ...action.payload ]\r\n            }\r\n\r\n        case types.notesUpdate:\r\n            return{\r\n                ...state,\r\n                active: null,\r\n                notes: state.notes.map(\r\n                    note => note.id === action.payload.id\r\n                        ? action.payload.note\r\n                        : note\r\n                )\r\n            }\r\n\r\n        case types.notesDelete:\r\n            return{\r\n                ...state,\r\n                active: null,\r\n                notes: state.notes.filter( note => note.id !== action.payload )\r\n            }\r\n\r\n        case types.notesLogoutCleaning:\r\n            // return initialState\r\n            return{\r\n                ...state,\r\n                active: null,\r\n                notes: []\r\n            }\r\n        \r\n       \r\n        default:\r\n            return state;\r\n    }\r\n}","import { types } from '../types/types'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    msgError: null\r\n}\r\nexport const uiReducer = ( state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case types.uiSetError:\r\n            return{\r\n                ...state,\r\n                msgError: action.payload\r\n            }\r\n\r\n        case types.uiRemoveError: \r\n            return{\r\n                ...state,\r\n                msgError: null\r\n            }\r\n        \r\n        case types.uiStartLoading:\r\n            return{\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case types.uiFinishLoading:\r\n            return{\r\n                ...state,\r\n                loading: false\r\n            }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}","// import { createStore, combineReducers } from \"redux\";\r\n// import { authReducer } from \"../reducers/authReducer\";\r\n\r\n// const reducers = combineReducers({\r\n//     auth: authReducer\r\n// })\r\n\r\n// export const store = createStore(reducers)\r\n\r\n\r\nimport {createStore, combineReducers, compose, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk';\r\n\r\nimport { authReducer } from \"../reducers/authReducer\";\r\nimport { notesReducer } from '../reducers/notesReducer';\r\nimport { uiReducer } from '../reducers/uiReducer';\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nconst reducers = combineReducers({\r\n    auth: authReducer,\r\n    ui: uiReducer,\r\n    notes: notesReducer\r\n})\r\n\r\n\r\nexport const store = createStore(\r\n    reducers,\r\n    composeEnhancers(\r\n        applyMiddleware( thunk )\r\n    )\r\n)","import { types } from \"../types/types\";\r\n\r\nexport const authReducer = ( state = {}, action ) => {\r\n\r\n    switch ( action.type ) {\r\n        case types.login:\r\n            return {\r\n                uid: action.payload.uid,\r\n                name: action.payload.displayName\r\n            }\r\n\r\n        case types.logout:\r\n            return {}\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport { AppRouter } from './routers/AppRouter';\nimport { store } from './store/store';\n\nexport const JournalApp = () => {\n    return (\n        <Provider store={ store }>\n            <AppRouter />\n        </Provider>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { JournalApp } from './JournalApp';\nimport './styles/styles.scss'\n\n\n\nReactDOM.render(\n  <JournalApp />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}